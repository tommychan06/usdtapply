<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´¦å·äº¤æ˜“</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: #1a1a1a;
            color: #fff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: #2a2a2a;
            border-radius: 15px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        h1 {
            font-size: 28px;
            margin-bottom: 30px;
            color: #4fc3f7;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #ccc;
        }

        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #444;
            border-radius: 8px;
            background: #333;
            color: #fff;
            font-size: 16px;
        }

        select optgroup {
            font-weight: bold;
            background: #444;
            color: #4fc3f7;
        }

        select option {
            background: #333;
            color: #fff;
            padding: 5px;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: #4fc3f7;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }

        .submit-btn:hover {
            background: #29b6f6;
            transform: translateY(-2px);
        }

        .contact {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #444;
        }

        .contact-item {
            background: #333;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .contact-item:last-child {
            margin-bottom: 0;
        }

        @media (max-width: 600px) {
            .container {
                padding: 25px;
            }
            
            h1 {
                font-size: 24px;
            }
        }

        /* å¼¹çª—æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #2a2a2a;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            max-width: 400px;
            width: 90%;
            border: 1px solid #444;
        }

        .modal-header {
            color: #4fc3f7;
            font-size: 20px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .modal-body {
            color: #ccc;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .countdown {
            color: #e74c3c;
            font-size: 24px;
            font-weight: bold;
            margin: 15px 0;
        }

        .modal-footer {
            color: #f39c12;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ’¼ ç¤¾äº¤è´¦å·äº¤æ˜“</h1>
        
        <form onsubmit="submitForm(event)">
            <div class="form-group">
                <label>å¹³å°ç±»å‹</label>
                <select id="account-type" onchange="updateSubTypes()" required>
                    <option value="">é€‰æ‹©å¹³å°ç±»å‹</option>
                    <option value="å¾®ä¿¡">å¾®ä¿¡è´¦å·</option>
                    <option value="æ”¯ä»˜å®">æ”¯ä»˜å®è´¦å·</option>
                    <option value="æŠ–éŸ³">æŠ–éŸ³è´¦å·</option>
                </select>
            </div>

            <div class="form-group">
                <label>è´¦å·ç±»åˆ«</label>
                <select id="sub-type" onchange="updatePrice()" required>
                    <option value="">é€‰æ‹©å…·ä½“ç±»åˆ«</option>
                </select>
            </div>

            <div class="form-group">
                <label>è´­ä¹°æ•°é‡</label>
                <select id="quantity" onchange="updatePrice()" required>
                    <option value="">é€‰æ‹©æ•°é‡</option>
                    <option value="1ä¸ª">1ä¸ª</option>
                    <option value="5ä¸ª">5ä¸ª</option>
                    <option value="10ä¸ª">10ä¸ª</option>
                    <option value="20ä¸ª">20ä¸ª</option>
                    <option value="50ä¸ª">50ä¸ª</option>
                    <option value="100ä¸ª">100ä¸ª</option>
                </select>
            </div>

            <div class="form-group">
                <label>ä»·æ ¼</label>
                <div id="price-display" style="padding: 12px; border: 1px solid #444; border-radius: 8px; background: #333; color: #4fc3f7; font-size: 18px; font-weight: bold; text-align: center;">
                    è¯·å…ˆé€‰æ‹©è´¦å·ç±»å‹å’Œæ•°é‡
                </div>
            </div>

            <div class="form-group">
                <label>æ¥æ”¶é‚®ç®±</label>
                <input type="email" id="email" placeholder="è¯·è¾“å…¥æ¥æ”¶è´¦å·ä¿¡æ¯çš„é‚®ç®±åœ°å€" required style="width: 100%; padding: 12px; border: 1px solid #444; border-radius: 8px; background: #333; color: #fff; font-size: 16px;">
            </div>

            <button type="submit" class="submit-btn">å‰å¾€æ˜“æ¸ USDTæ”¯ä»˜è®¢å•</button>
            <div style="text-align: center; color: #f39c12; font-size: 14px; margin-top: 10px;">
                ğŸ’¡ è¯·åœ¨é’±åŒ…çš„DAppæµè§ˆå™¨ä¸­æ‰“å¼€æ­¤é¡µé¢ï¼Œå¦åˆ™å°†æ— æ³•æ”¯ä»˜
            </div>
        </form>

        <div class="contact">
            <div class="contact-item">
                <strong>Telegramï¼š</strong> <a href="https://t.me/tommy_chan" target="_blank" style="color: #4fc3f7; text-decoration: none;">@tommy_chan</a>
            </div>
        </div>
    </div>

    <!-- 5ç§’å€’è®¡æ—¶å¼¹çª— -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                âš ï¸ æ”¯ä»˜æé†’
            </div>
            <div class="modal-body">
                æ‚¨å³å°†è·³è½¬åˆ°æ˜“æ¸ USDTæ”¯ä»˜å¹³å°<br>
                è¯·ç¡®ä¿åœ¨é’±åŒ…çš„DAppæµè§ˆå™¨ä¸­æ“ä½œ
            </div>
            <div class="countdown" id="countdown">5</div>
            <div class="modal-footer">
                ğŸ’¡ å€’è®¡æ—¶ç»“æŸåè‡ªåŠ¨è·³è½¬æ”¯ä»˜é¡µé¢
            </div>
        </div>
    </div>

    <script>
        function updateSubTypes() {
            const accountType = document.getElementById('account-type').value;
            const subTypeSelect = document.getElementById('sub-type');
            
            // æ¸…ç©ºå­ç±»é€‰é¡¹
            subTypeSelect.innerHTML = '<option value="">é€‰æ‹©å…·ä½“ç±»åˆ«</option>';
            
            if (accountType) {
                let options = [];
                switch(accountType) {
                    case 'å¾®ä¿¡':
                        options = [
                            '1å¹´æœŸå¾®ä¿¡è´¦å·',
                            '2å¹´æœŸå¾®ä¿¡è´¦å·',
                            '5å¹´æœŸå¾®ä¿¡è´¦å·',
                            'è€å·å¾®ä¿¡è´¦å·'
                        ];
                        break;
                    case 'æ”¯ä»˜å®':
                        options = [
                            'å®åæ”¯ä»˜å®è´¦å·',
                            'ä¼ä¸šæ”¯ä»˜å®è´¦å·',
                            'é«˜ä¿¡ç”¨æ”¯ä»˜å®'
                        ];
                        break;
                    case 'æŠ–éŸ³':
                        options = [
                            'ä¸‡ç²‰æŠ–éŸ³è´¦å·',
                            'åä¸‡ç²‰æŠ–éŸ³è´¦å·',
                            'å®åæŠ–éŸ³è´¦å·',
                            'ä¼ä¸šæŠ–éŸ³è´¦å·'
                        ];
                        break;
                }
                
                options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option;
                    optionElement.textContent = option;
                    subTypeSelect.appendChild(optionElement);
                });
            }
            updatePrice(); // æ›´æ–°ä»·æ ¼æ˜¾ç¤º
        }

        function updatePrice() {
            const accountType = document.getElementById('account-type').value;
            const subType = document.getElementById('sub-type').value;
            const quantity = document.getElementById('quantity').value;
            const priceDisplay = document.getElementById('price-display');
            
            if (!accountType || !subType || !quantity) {
                priceDisplay.textContent = 'è¯·å…ˆé€‰æ‹©è´¦å·ç±»å‹å’Œæ•°é‡';
                return;
            }
            
            // ä»·æ ¼è¡¨ (USDT)
            const prices = {
                '1å¹´æœŸå¾®ä¿¡è´¦å·': 6.94,
                '2å¹´æœŸå¾®ä¿¡è´¦å·': 11.11,
                '5å¹´æœŸå¾®ä¿¡è´¦å·': 20.83,
                'è€å·å¾®ä¿¡è´¦å·': 27.78,
                'å®åæ”¯ä»˜å®è´¦å·': 13.89,
                'ä¼ä¸šæ”¯ä»˜å®è´¦å·': 41.67,
                'é«˜ä¿¡ç”¨æ”¯ä»˜å®': 25.00,
                'ä¸‡ç²‰æŠ–éŸ³è´¦å·': 69.44,
                'åä¸‡ç²‰æŠ–éŸ³è´¦å·': 208.33,
                'å®åæŠ–éŸ³è´¦å·': 11.11,
                'ä¼ä¸šæŠ–éŸ³è´¦å·': 55.56
            };
            
            const unitPrice = prices[subType] || 0;
            const quantityNum = parseInt(quantity);
            const totalPrice = (unitPrice * quantityNum).toFixed(2);
            
            priceDisplay.innerHTML = `å•ä»·ï¼š${unitPrice} USDT Ã— ${quantity} = <span style="color: #e74c3c;">${totalPrice} USDT</span>`;
        }

        function submitForm(event) {
            event.preventDefault();
            const accountType = document.getElementById('account-type').value;
            const subType = document.getElementById('sub-type').value;
            const quantity = document.getElementById('quantity').value;
            const email = document.getElementById('email').value.trim();
            
            if (!accountType || !subType || !quantity || !email) {
                alert('è¯·å®Œæ•´å¡«å†™æ‰€æœ‰ä¿¡æ¯');
                return;
            }
            
            // éªŒè¯é‚®ç®±æ ¼å¼
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±åœ°å€');
                return;
            }
            
            // è·å–ä»·æ ¼ä¿¡æ¯
            const prices = {
                '1å¹´æœŸå¾®ä¿¡è´¦å·': 6.94,
                '2å¹´æœŸå¾®ä¿¡è´¦å·': 11.11,
                '5å¹´æœŸå¾®ä¿¡è´¦å·': 20.83,
                'è€å·å¾®ä¿¡è´¦å·': 27.78,
                'å®åæ”¯ä»˜å®è´¦å·': 13.89,
                'ä¼ä¸šæ”¯ä»˜å®è´¦å·': 41.67,
                'é«˜ä¿¡ç”¨æ”¯ä»˜å®': 25.00,
                'ä¸‡ç²‰æŠ–éŸ³è´¦å·': 69.44,
                'åä¸‡ç²‰æŠ–éŸ³è´¦å·': 208.33,
                'å®åæŠ–éŸ³è´¦å·': 11.11,
                'ä¼ä¸šæŠ–éŸ³è´¦å·': 55.56
            };
            
            const unitPrice = prices[subType] || 0;
            const quantityNum = parseInt(quantity);
            const totalPrice = (unitPrice * quantityNum).toFixed(2);
            
            // ç”Ÿæˆå¤‡æ³¨ä¿¡æ¯ï¼ŒåŒ…å«é‚®ç®±
            const memo = `${subType} x ${quantity} | é‚®ç®±: ${email}`;
            
            // æ„å»ºè·³è½¬åˆ°USDTæ”¯ä»˜é¡µé¢çš„URLå‚æ•°
            const params = new URLSearchParams({
                merchant: 'è´­ä¹°æ•°æ®',
                amount: totalPrice,
                memo: memo
            });
            
            // æ˜¾ç¤º5ç§’å€’è®¡æ—¶å¼¹çª—
            showPaymentModal(`./jy.html?${params.toString()}`);
        }

        function showPaymentModal(redirectUrl) {
            const modal = document.getElementById('paymentModal');
            const countdownElement = document.getElementById('countdown');
            
            // æ˜¾ç¤ºå¼¹çª—
            modal.style.display = 'block';
            
            let countdown = 5;
            countdownElement.textContent = countdown;
            
            const countdownInterval = setInterval(() => {
                countdown--;
                countdownElement.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(countdownInterval);
                    modal.style.display = 'none';
                    // è·³è½¬åˆ°æ”¯ä»˜é¡µé¢
                    window.location.href = redirectUrl;
                }
            }, 1000);
        }
    </script>
</body>
</html>